From 1f09890c674fac770e96201fabc4e8d86782367f Mon Sep 17 00:00:00 2001
From: Andy Wilkinson <awilkinson@pivotal.io>
Date: Thu, 19 Jan 2017 22:07:52 +0000
Subject: [PATCH] Update build configuration for Spring IO compatibility
 testing

---
 build.gradle                                  | 6 +++---
 samples/boot/build.gradle                     | 1 +
 samples/findbyusername/build.gradle           | 1 +
 samples/httpsession-gemfire-boot/build.gradle | 1 +
 samples/httpsession-jdbc-boot/build.gradle    | 1 +
 samples/httpsession-redis-json/build.gradle   | 1 +
 samples/mongo/build.gradle                    | 1 +
 samples/websocket/build.gradle                | 1 +
 settings.gradle                               | 2 +-
 9 files changed, 11 insertions(+), 4 deletions(-)

diff --git a/build.gradle b/build.gradle
index 578c5b6..e7325c4 100644
--- a/build.gradle
+++ b/build.gradle
@@ -3,10 +3,10 @@ buildscript {
 		maven { url "https://repo.spring.io/plugins-release" }
 	}
 	dependencies {
-		classpath 'io.spring.gradle:dependency-management-plugin:0.6.1.RELEASE'
+		classpath 'io.spring.gradle:dependency-management-plugin:1.0.0.RC2'
 		classpath("com.bmuschko:gradle-tomcat-plugin:2.2.5")
 		classpath("org.springframework.build.gradle:propdeps-plugin:0.0.7")
-		classpath("io.spring.gradle:spring-io-plugin:0.0.4.RELEASE")
+		classpath("io.spring.gradle:spring-io-plugin:0.0.6.RELEASE")
 		classpath('me.champeau.gradle:gradle-javadoc-hotfix-plugin:0.1')
 		classpath 'org.asciidoctor:asciidoctor-gradle-plugin:1.5.2'
 		classpath 'com.github.ben-manes:gradle-versions-plugin:0.12.0'
@@ -19,7 +19,7 @@ plugins {
 
 group = 'org.springframework.session'
 
-ext.springBootVersion = '1.4.2.RELEASE'
+ext.springBootVersion = '1.5.0.BUILD-SNAPSHOT'
 ext.IDE_GRADLE = "$rootDir/gradle/ide.gradle"
 ext.JAVA_GRADLE = "$rootDir/gradle/java.gradle"
 ext.SPRING3_GRADLE = "$rootDir/gradle/spring3.gradle"
diff --git a/samples/boot/build.gradle b/samples/boot/build.gradle
index c7a0c9c..8896c9e 100644
--- a/samples/boot/build.gradle
+++ b/samples/boot/build.gradle
@@ -1,6 +1,7 @@
 buildscript {
 	repositories {
 		mavenCentral()
+		maven { url "https://repo.spring.io/plugins-snapshot" }
 	}
 	dependencies {
 		classpath("org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion")
diff --git a/samples/findbyusername/build.gradle b/samples/findbyusername/build.gradle
index 10fc742..8c01393 100644
--- a/samples/findbyusername/build.gradle
+++ b/samples/findbyusername/build.gradle
@@ -1,6 +1,7 @@
 buildscript {
 	repositories {
 		mavenCentral()
+		maven { url "https://repo.spring.io/plugins-snapshot" }
 	}
 	dependencies {
 		classpath("org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion")
diff --git a/samples/httpsession-gemfire-boot/build.gradle b/samples/httpsession-gemfire-boot/build.gradle
index 9673663..620b4e1 100644
--- a/samples/httpsession-gemfire-boot/build.gradle
+++ b/samples/httpsession-gemfire-boot/build.gradle
@@ -1,6 +1,7 @@
 buildscript {
 	repositories {
 		mavenCentral()
+		maven { url "https://repo.spring.io/plugins-snapshot" }
 	}
 	dependencies {
 		classpath "org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion"
diff --git a/samples/httpsession-jdbc-boot/build.gradle b/samples/httpsession-jdbc-boot/build.gradle
index 464dd22..dbe2d35 100644
--- a/samples/httpsession-jdbc-boot/build.gradle
+++ b/samples/httpsession-jdbc-boot/build.gradle
@@ -1,6 +1,7 @@
 buildscript {
 	repositories {
 		mavenCentral()
+		maven { url "https://repo.spring.io/plugins-snapshot" }
 	}
 	dependencies {
 		classpath("org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion")
diff --git a/samples/httpsession-redis-json/build.gradle b/samples/httpsession-redis-json/build.gradle
index 8e15aed..e91b763 100644
--- a/samples/httpsession-redis-json/build.gradle
+++ b/samples/httpsession-redis-json/build.gradle
@@ -1,6 +1,7 @@
 buildscript {
     repositories {
         mavenCentral()
+        maven { url "https://repo.spring.io/plugins-snapshot" }
     }
     dependencies {
         classpath("org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion")
diff --git a/samples/mongo/build.gradle b/samples/mongo/build.gradle
index 7c6fb69..811c5d5 100644
--- a/samples/mongo/build.gradle
+++ b/samples/mongo/build.gradle
@@ -1,6 +1,7 @@
 buildscript {
 	repositories {
 		mavenCentral()
+		maven { url "https://repo.spring.io/plugins-snapshot" }
 	}
 	dependencies {
 		classpath("org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion")
diff --git a/samples/websocket/build.gradle b/samples/websocket/build.gradle
index 95856fe..c89bfe4 100644
--- a/samples/websocket/build.gradle
+++ b/samples/websocket/build.gradle
@@ -1,6 +1,7 @@
 buildscript {
 	repositories {
 		mavenCentral()
+		maven { url "https://repo.spring.io/plugins-snapshot" }
 	}
 	dependencies {
 		classpath("org.springframework.boot:spring-boot-gradle-plugin:$springBootVersion")
diff --git a/settings.gradle b/settings.gradle
index cd3e414..7d3388f 100644
--- a/settings.gradle
+++ b/settings.gradle
@@ -23,7 +23,7 @@ include 'samples:security'
 include 'samples:users'
 include 'samples:websocket'
 include 'samples:mongo'
-include 'samples:grails3'
+//include 'samples:grails3'
 
 include 'spring-session'
 include 'spring-session-data-gemfire'
-- 
2.11.0

